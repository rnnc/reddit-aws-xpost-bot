service: reddit-aws-xpost-bot

custom: 
  secrets: ${file(secrets.yml)}

provider:
  name: aws
  runtime: nodejs8.10
  region: us-east-2
  environment:
    CLIENT_ID: ${self:custom.secrets.CLIENT_ID}
    CLIENT_SECRET: ${self:custom.secrets.CLIENT_SECRET}
    REDDIT_USER: ${self:custom.secrets.REDDIT_USER}
    REDDIT_PASS: ${self:custom.secrets.REDDIT_PASS}
    MAIN_SUBREDDIT: ${self:custom.secrets.MAIN_SUBREDDIT}
    XPOST_SUBREDDIT: ${self:custom.secrets.XPOST_SUBREDDIT}
    FILTER_FLAIR: ${self:custom.secrets.FILTER_FLAIR}

functions:
  hello:
    handler: handler.botRun
    events:
      -schedule: 
        rate: cron(/5 * * * * *)
